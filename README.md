Have a create fucntion that has configs the creates a singelton with all the coonfigs incuding change theme function. Everything else is normal and add conffig file as bonus.
Make system optional

separate the themeProvider into serverTheme and check if child is a fucntion to pass typed cookie or just force cookie rpop imto child. then add custom function props. make this like the useServerState.

maybe give optiom for target and no custom function.

use nextjs to check speed of this verses next themes

rename to nextservertheme

add a cli for everything
